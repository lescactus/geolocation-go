#!/usr/bin/python

from locust import HttpUser, task, between
from faker import Faker
import random

def random_fixed_ip():
    ip = [
        "178.167.175.30",
        "114.24.132.31",
        "91.205.163.212",
        "179.6.254.234",
        "216.196.189.137",
        "217.44.226.187",
        "155.211.125.64",
        "191.194.46.98",
        "63.127.26.70",
        "154.100.243.131",
        "66.55.46.12",
        "159.142.148.184",
        "1.223.224.226",
        "119.184.215.233",
        "31.221.193.254",
        "87.51.48.179",
        "10.234.99.74",
        "115.59.253.114",
        "11.208.111.81",
        "143.142.142.184",
        "20.237.37.78",
        "72.169.129.240",
        "97.31.183.25",
        "135.241.187.231",
        "199.187.252.207",
        "54.137.144.131",
        "119.180.221.127",
        "107.253.166.90",
        "168.157.212.176",
        "183.210.156.208",
        "77.185.183.72",
        "78.172.117.93",
        "97.179.34.56",
        "126.229.28.50",
        "125.2.180.153",
        "99.236.115.243",
        "25.74.162.116",
        "30.208.251.59",
        "71.221.35.15",
        "19.105.240.124",
        "92.229.144.73",
        "188.152.18.64",
        "189.212.117.124",
        "88.155.45.175",
        "214.213.219.108",
        "16.220.37.9",
        "107.207.175.184",
        "4.217.242.52",
        "54.235.164.45",
        "214.177.133.87",
        "61.77.44.152",
        "150.237.109.186",
        "90.66.65.77",
        "162.152.184.36",
        "36.207.49.58",
        "124.144.98.180",
        "216.91.52.240",
        "196.254.36.185",
        "89.245.212.105",
        "25.234.4.55",
        "7.84.30.97",
        "42.19.180.112",
        "205.158.158.84",
        "208.187.17.27",
        "61.64.46.254",
        "28.177.159.92",
        "166.75.167.247",
        "40.102.118.151",
        "202.154.53.10",
        "36.67.141.95",
        "82.1.39.16",
        "95.116.251.86",
        "61.211.12.21",
        "87.228.108.193",
        "3.232.171.241",
        "121.96.136.209",
        "52.120.212.34",
        "129.0.103.91",
        "193.160.182.10",
        "87.88.219.50",
        "222.130.243.55",
        "191.107.125.108",
        "71.124.190.74",
        "1.51.10.61",
        "86.237.154.189",
        "92.210.48.174",
        "86.128.112.158",
        "142.233.17.185",
        "167.102.180.221",
        "23.85.222.4",
        "163.2.237.15",
        "79.2.205.31",
        "91.128.142.216",
        "111.67.108.77",
        "116.38.114.202",
        "105.210.202.153",
        "23.38.66.165",
        "42.72.238.7",
        "165.42.80.214",
        "184.38.138.69"
    ]

    return random.choice(ip)

def random_ip():
    faker = Faker()
    return faker.ipv4()


class QuickstartUser(HttpUser):
    wait_time = between(1, 2)

    @task
    def ready_alive(self):
        self.client.get("/ready")
        self.client.get("/alive")

    @task
    def fixed_ip(self):
        self.client.get("/rest/v1/1.2.3.4")
    
    @task(2)
    def random_fixed_ips(self):
        ip = random_fixed_ip()
        self.client.get(f"/rest/v1/{ip}")

    @task(4)
    def random_ip(self):
        ip = random_ip()
        self.client.get(f"/rest/v1/{ip}")
